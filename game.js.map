{"version":3,"sources":["game-es6.js"],"names":[],"mappings":"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","file":"game.js","sourcesContent":["'use strict';\nlet c, // canvas\n    cc, // canvascontext\n    winScreen = false,\n    ball = {\n      'speedX': 10,\n      'initSpeed': 10,\n      'speedY': 4,\n      'x': 50,\n      'y': 50,\n      'size': 10\n    },\n    player1 = {\n      'y': 210,\n      'score': 0\n    },\n    player2 = {\n      'y': 210,\n      'score': 0\n    },\n    mouse = {\n      'x': 0,\n      'y': 0\n    };\n\nconst PADDLE_HEIGHT = 100;\nconst PADDLE_WIDTH = 10;\nconst WINNING_SCORE = 5;\n\nwindow.onload = () => {\n\n  c = document.getElementById('game');\n  c.width = window.innerWidth;\n  c.height = window.innerHeight;\n  \n  // reset ball x&y to middle since we now have size of screen.\n  ball.x =  c.width/2;\n  ball.y =  c.height/2;\n  \n  cc = c.getContext('2d');\n\n  let fps = 30;\n  setInterval(() => {\n    moveEverything();\n    drawEverything();\n  }, 1000/fps);\n\n  c.addEventListener('mousemove',\n    function(event) {\n      let mousePos = calculateMousePos(event);\n      player1.y = mousePos.y - (PADDLE_HEIGHT/2);\n  });\n\n  c.addEventListener('mousedown', handleMouseClick);\n  \n}\n\nlet handleMouseClick = (e) => {\n  if (winScreen) {\n    player1.score = 0;\n    player2.score = 0;\n    resetBall();\n    winScreen = false;\n  }\n}\n\nlet calculateMousePos = (event) => {\n  let rect = c.getBoundingClientRect();\n  let root = document.documentElement;\n  mouse.x = event.clientX - rect.left - root.scrollLeft;\n  mouse.y = event.clientY - rect.top - root.scrollTop;\n\n  return {\n    x: mouse.x,\n    y: mouse.y\n  };\n}\n\nlet ai = () => {\n  let player2Center = player2.y + (PADDLE_HEIGHT/2);\n    if (Math.sign(ball.speedX) === 1) {\n      if (player2Center < ball.y - 35) {\n      player2.y += 10;\n    } else if (player2Center > ball.y + 35) {\n      player2.y -= 10;\n    }\n  } else {\n    if (player2Center < (c.height/2) -20) {\n      player2.y += 6;\n    } else if (player2Center > (c.height/2) +20 ) {\n      player2.y -= 6;\n    }\n  }\n  \n}\n\nlet moveEverything = () => {\n  // ai movement\n  ai();\n\n  // ball\n  ball.x+=ball.speedX;\n  ball.y+=ball.speedY;\n  if (ball.x > c.width - PADDLE_WIDTH) {\n    // hitting right side\n    // added ball.size/2 which should make it so any part of the ball hits the paddle are it reflects back\n    if (ball.y > player2.y - ball.size && ball.y < player2.y + PADDLE_HEIGHT + ball.size) {\n      ball.speedX = -(ball.speedX*1.2);\n      let deltaY = ball.y - (player2.y + PADDLE_HEIGHT / 2);\n      ball.speedY = deltaY * .35;\n    } else {\n      player1.score++;\n      resetBall();\n    }\n  } else if (ball.x <= 0 + PADDLE_WIDTH) {\n    // hitting left side\n    if (ball.y > player1.y - ball.size && ball.y < player1.y + PADDLE_HEIGHT + ball.size) {\n      ball.speedX = -(ball.speedX*1.2);\n      \n      let deltaY = ball.y - (player1.y + PADDLE_HEIGHT / 2);\n      ball.speedY = deltaY * .35;\n    } else {\n      player2.score++;\n      resetBall();\n    }\n  }\n  \n  if (ball.y < 0) {\n    ball.speedY = -ball.speedY;\n  } else if (ball.y > c.height) {\n    ball.speedY = -ball.speedY;\n  }\n}\n\nlet drawEverything = () => {\n  if (winScreen) {\n    colorRect(0,0,c.width,c.height,'black');\n    \n    let message = '';\n    if (player1.score === WINNING_SCORE) {\n      message = 'Player 1 won!';\n    } else {\n      message = 'Player 2 won!';\n    }\n    cc.fillStyle = 'white';\n    cc.font = \"20px Helvetica\";\n    let messageTextWidth = cc.measureText(message);\n    cc.fillText(message, (c.width/2 - messageTextWidth.width/2), 50);\n    let continueTextWidth = cc.measureText('Click to continue');\n    cc.fillText('Click to continue', (c.width/2 - continueTextWidth.width/2), 150);\n    return;\n  }\n\n  // background\n  colorRect(0,0,c.width,c.height,'black');\n\n  // ball\n  colorCircle(ball.x, ball.y, ball.size, 'white');\n \n  // net\n  drawNet();\n\n  // left paddle\n  colorRect(0,player1.y, PADDLE_WIDTH, PADDLE_HEIGHT, 'white');\n\n  // right paddle\n  colorRect((c.width - PADDLE_WIDTH), player2.y, PADDLE_WIDTH, PADDLE_HEIGHT, 'white');\n\n  // score\n  cc.font = \"20px helvetica\";\n  cc.fillText(player1.score, 100, 50);\n  cc.fillText(player2.score, c.width-100, 50);\n\n}\n\nlet drawNet = () => {\n  for (let i=0; i<c.height; i+=40) {\n    colorRect(c.width/2-1, i, 2, 20, 'white');\n  }\n}\n\nlet colorRect = (leftX, topY, width, height, drawColor) => {\n  cc.fillStyle = drawColor;\n  cc.fillRect(leftX, topY, width, height);\n};\n\nlet colorCircle = (centerX, centerY, radius, color) => { \n  cc.fillStyle = color;\n  cc.beginPath();\n  cc.arc(centerX, centerY, radius, 0, Math.PI*2, true);\n  cc.fill();\n}\n\nlet resetBall = () => {\n\n  if (player1.score >= WINNING_SCORE || player2.score >= WINNING_SCORE) {\n    winScreen = true;\n  } else {\n  \n  }\n\n  //ball.speedX = -ball.speedX;\n  if (Math.sign(ball.speedX) === 1) {\n    ball.speedX = ball.initSpeed;\n  } else {\n    ball.speedX = -ball.initSpeed;\n  }\n  ball.speedY = 0;\n  ball.x = c.width/2;\n  ball.y = c.height/2;\n}\n\n"]}